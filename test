import os
import argparse
import datetime
from PyPDF2 import PdfFileMerger, PdfFileWriter
import numpy as np

months = 6

current_date = datetime.datetime.now()
current_month = current_date.strftime('%m')
current_year = current_date.strftime('%y')


#Pronalazenje rezultnog pdf-a i reporta iz tog meseca
path = "C:\\Users\\strahinja.soskic\\Desktop\\BackUP\\Programiranje\\Python\\CSV_python\\"
pdfs = []
# r=root, d=directories, p = pdfs
for r,d,p in os.walk(path):
    for pdf in p:
        if ('AnyConnect_M_' in pdf and '.pdf' in pdf):
            pdfs.append(os.path.join(r, pdf))
            
pdfs.sort(reverse=True)
topn = pdfs[:months]

array_monts = ['01','02','03','04','05','06','07','08','09','10','11','12']
array_monts_from_reports = []
for i in range(len(topn)):
    a = pdfs[i]
    b = a[91:93]
    c = a[88:90]
    d = b+'.'+c
    array_monts_from_reports.append(d)
print(array_monts_from_reports)



array_help = []
t = int(current_month)-1 #indeks od kojeg krece brojanje meseci u nazad

temp_year_str = current_year
for i in range(months):
    e = array_monts[t]+'.'+temp_year_str 
    array_help.append(e)
    
    if (t==0):
        t = 11
        temp_year = int(temp_year_str)-1
        temp_year_str = str(temp_year)
    else:
        t = t-1
print(array_help)


array_monts_from_reports_np = np.array(array_monts_from_reports)
array_help_np = np.array(array_help)

print(array_monts_from_reports_np)
print(array_help_np)
c20 = np.array
print(c20)
c20 = np.equal(array_monts_from_reports_np, array_help_np)
print(c20)


















